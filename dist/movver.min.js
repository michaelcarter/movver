!function t(e,o,n){function r(s,u){if(!o[s]){if(!e[s]){var h="function"==typeof require&&require;if(!u&&h)return h(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var a=o[s]={exports:{}};e[s][0].call(a.exports,function(t){var o=e[s][1][t];return r(o?o:t)},a,a.exports,t,e,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(){!function(){function t(t){t||(t={}),t.maxTouchOffsets&&(this.MAX_TOUCH_OFFSETS=t.maxTouchOffsets),t.focusPercentageThreshold&&(this.FOCUS_PERCENTAGE_THRESHOLD=t.focusPercentageThreshold),t.eventTimeout&&(this.EVENT_TIMEOUT=t.eventTimeout),t.debug&&(this.DEBUG=!0),this._addListeners()}return t.prototype.watchedElements=[],t.prototype.touchStartOffsets=[],t.prototype.touchEndOffsets=[],t.prototype.elementTimeouts=[],t.prototype.viewableLowerBoundary=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t.prototype.MAX_TOUCH_OFFSETS=3,t.prototype.FOCUS_PERCENTAGE_THRESHOLD=70,t.prototype.DEBUG=!1,t.prototype.EVENT_TIMEOUT=500,t.prototype.watch=function(t){if("object"!=typeof t)throw new Error("Element must be an object.");this.watchedElements.push(t)},t.prototype._arrayAverage=function(t){var e=t.reduce(function(t,e){return t+e});return e/t.length},t.prototype._calculateFocusPercentage=function(t){var e=t.getBoundingClientRect(),o=(e.top+e.bottom)/2,n=o/(this.viewableLowerBoundary/2)*100;return n>100&&(n=200-n),0>n?0:n},t.prototype._findElementTimeout=function(t){for(var e=0;e<this.elementTimeouts.length;e++)if(t===this.elementTimeouts[e].element)return this.elementTimeouts[e];return null},t.prototype._elementTimeoutExists=function(t){return!!this._findElementTimeout(t)},t.prototype._clearElementTimeout=function(t){var e=this._findElementTimeout(t),o=this.elementTimeouts.indexOf(e);return e&&window.clearTimeout(e.timeout),o>-1&&this.elementTimeouts.splice(o,1),!!e},t.prototype._fillRect=function(t,e){var o=2.55*e;t.style.backgroundColor="rgb(0,"+Math.round(o)+",0)"},t.prototype._setVisibleBounds=function(){var t=document.getElementById("thumbArea");t.style.top=this.viewableLowerBoundary+"px",t.style.height=document.documentElement.clientHeight-this.viewableLowerBoundary+"px"},t.prototype._onTouchStart=function(t){this.touchStartOffsets.push(t.touches[0].pageY-t.view.scrollY),this.touchStartOffsets.length>this.MAX_TOUCH_OFFSETS&&this.touchStartOffsets.shift()},t.prototype._onTouchEnd=function(t){this.touchEndOffsets.push(t.changedTouches[0].pageY-t.view.scrollY),this.touchEndOffsets.length>this.MAX_TOUCH_OFFSETS&&this.touchEndOffsets.shift(),this.viewableLowerBoundary=Math.min(Math.round(this._arrayAverage(this.touchEndOffsets)),Math.round(this._arrayAverage(this.touchStartOffsets))),this.DEBUG&&this._setVisibleBounds()},t.prototype._onScroll=function(){var t=this;this.watchedElements.forEach(function(e){var o=t._calculateFocusPercentage(e),n=t._elementTimeoutExists(e);o>=t.FOCUS_PERCENTAGE_THRESHOLD&&!n?t.elementTimeouts.push({element:e,timeout:window.setTimeout(function(){e.dispatchEvent(new Event("movver"))},t.EVENT_TIMEOUT)}):o<t.FOCUS_PERCENTAGE_THRESHOLD&&n&&t._clearElementTimeout(e),t.DEBUG&&t._fillRect(e,o)})},t.prototype._addListeners=function(){document.addEventListener("touchstart",this._onTouchStart.bind(this)),document.addEventListener("touchend",this._onTouchEnd.bind(this)),window.onscroll=this._onScroll.bind(this)},t}()},{}]},{},[1]);
//# sourceMappingURL=movver.min.js.map