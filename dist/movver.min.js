!function t(e,o,r){function n(u,c){if(!o[u]){if(!e[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var i=new Error("Cannot find module '"+u+"'");throw i.code="MODULE_NOT_FOUND",i}var f=o[u]={exports:{}};e[u][0].call(f.exports,function(t){var o=e[u][1][t];return n(o?o:t)},f,f.exports,t,e,o,r)}return o[u].exports}for(var a="function"==typeof require&&require,u=0;u<r.length;u++)n(r[u]);return n}({1:[function(){var t=function(){function t(t){t.maxTouchOffsets&&(this.MAX_TOUCH_OFFSETS=t.maxTouchOffsets),t.focusPercentageThreshold&&(this.FOCUS_PERCENTAGE_THRESHOLD=t.focusPercentageThreshold),t.debug&&(this.DEBUG=!0),this._addListeners()}return t.prototype.attachedElements=[],t.prototype.touchStartOffsets=[],t.prototype.touchEndOffsets=[],t.prototype.viewableLowerBoundary=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t.prototype.MAX_TOUCH_OFFSETS=2,t.prototype.FOCUS_PERCENTAGE_THRESHOLD=80,t.prototype.DEBUG=!1,t.prototype.attach=function(t,e){if("object"!=typeof t)throw new Error("Element must be an object.");if("function"!=typeof e)throw new Error("Callback must be a function.");this.attachedElements.push([t,e])},t.prototype._arrayAverage=function(t){var e=t.reduce(function(t,e){return t+e});return e/t.length},t.prototype._calculateFocusPercentage=function(t){var e=t.getBoundingClientRect(),o=(e.top+e.bottom)/2,r=o/(this.viewableLowerBoundary/2)*100;return r>100&&(r=200-r),0>r?0:r},t.prototype._fillRect=function(t,e){var o=2.55*e;t.style.backgroundColor="rgb(0,"+Math.round(o)+",0)"},t.prototype._setVisibleBounds=function(){var t=document.getElementById("thumbArea");t.style.top=this.viewableLowerBoundary+"px",t.style.height=document.documentElement.clientHeight-this.viewableLowerBoundary+"px"},t.prototype._addListeners=function(){var t=this;document.addEventListener("touchstart",function(e){t.touchStartOffsets.push(e.touches[0].pageY-e.view.scrollY),t.touchStartOffsets.length>t.MAX_TOUCH_OFFSETS&&t.touchStartOffsets.shift()}),document.addEventListener("touchend",function(e){t.touchEndOffsets.push(e.changedTouches[0].pageY-e.view.scrollY),t.touchEndOffsets.length>t.MAX_TOUCH_OFFSETS&&t.touchEndOffsets.shift(),t.viewableLowerBoundary=Math.min(Math.round(t._arrayAverage(t.touchEndOffsets)),Math.round(t._arrayAverage(t.touchStartOffsets))),t.DEBUG&&t._setVisibleBounds()}),window.onscroll=function(){t.attachedElements.forEach(function(e){var o=e[0],r=e[1],n=t._calculateFocusPercentage(o);n>=t.FOCUS_PERCENTAGE_THRESHOLD&&r(o),t.DEBUG&&t._fillRect(o,n)})}},t}();window.onload=function(){var e=new t({debug:!0}),o=["para1","para2","para3","para4","para5","para6","para7","para8","para9","para10"];o.forEach(function(t){e.attach(document.getElementById(t),function(t){console.log("focussed:",t)})})}},{}]},{},[1]);
//# sourceMappingURL=movver.min.js.map